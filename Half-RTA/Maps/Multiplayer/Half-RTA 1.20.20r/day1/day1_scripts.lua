-- Скрипт, выполняющийся при загрузке карты сразу же, в первый день

-- Путь до текущей папки
PATH_TO_DAY1_MODULE = GetMapDataPath().."day1/";

doFile(PATH_TO_DAY1_MODULE.."day1_constants.lua");
doFile(PATH_TO_DAY1_MODULE.."day1_utils.lua");
sleep(1)

-- Определение режима хотсит
function detectHotseatStatus()
  print "detectHotseatStatus"
  
  if GetTurnTimeLeft(PLAYER_2) <= 0 then
    HOTSEAT_STATUS = not nil;
  end;
end;



-- Точка входа для выполнения скриптов модулю
function day1()
  print "day1"

  detectHotseatStatus();

  -- Получерк
  if GAME_MODE.HALF then
    doFile(PATH_TO_DAY1_MODULE.."choice_of_races/half.lua");
  end;
  -- Простой выбор
  if GAME_MODE.SIMPLE_CHOOSE then
    doFile(PATH_TO_DAY1_MODULE.."choice_of_races/simple.lua");
  end;
  -- Черк матчапов
  if GAME_MODE.MATCHUPS then
    doFile(PATH_TO_DAY1_MODULE.."choice_of_races/matchups.lua");
  end;
  -- Микс черк
  if GAME_MODE.MIX then
    doFile(PATH_TO_DAY1_MODULE.."choice_of_races/mix.lua");
  end;
end;

-- Точка входа в модуль
day1();
